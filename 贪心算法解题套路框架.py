"""
ã€Œé—®é¢˜ä¸€ã€
ç°åœ¨æœ‰ä¸¤ç§é’ç¥¨ï¼Œé¢é¢åˆ†ä¸ºä¸º 1 å…ƒå’Œ 100 å…ƒï¼Œæ¯ç§é’ç¥¨çš„æ•°é‡æ— é™ï¼Œä½†ç°åœ¨ä½ åªèƒ½é€‰æ‹© 10 å¼ ï¼Œè¯·é—®ä½ åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Œæ‰èƒ½ä½¿å¾—æ€»é‡‘é¢æœ€å¤§ï¼Ÿ
æŒ‰ç…§ç®—æ³•æ€ç»´ï¼Œè¿™ä¸ªé—®é¢˜çš„æœ¬è´¨æ˜¯åš 10 æ¬¡é€‰æ‹©ï¼Œæ¯æ¬¡é€‰æ‹©æœ‰ä¸¤ç§å¯èƒ½ï¼Œåˆ†åˆ«æ˜¯ 1 å…ƒå’Œ 100 å…ƒï¼Œä¸€å…±æœ‰ 2^10 ç§å¯èƒ½çš„é€‰æ‹©ã€‚

æ‰€ä»¥ä½ å¿ƒé‡Œé¦–å…ˆåº”è¯¥å‡ºç°ä¸€æ£µé«˜åº¦ä¸º 10 çš„äºŒå‰æ ‘æ¥ç©·ä¸¾æ‰€æœ‰å¯è¡Œè§£ï¼Œéå†è¿™äº›å¯è¡Œè§£ï¼Œç„¶åå¯ä»¥å¾—åˆ°æœ€ä¼˜è§£ã€‚

// å®šä¹‰ï¼šåš n æ¬¡é€‰æ‹©ï¼Œè¿”å›å¯ä»¥è·å¾—çš„æœ€å¤§é‡‘é¢
int findMax(int n) {
    if (n == 0) return 0;
    
    // è¿™æ¬¡é€‰æ‹© 1 å…ƒï¼Œç„¶åé€’å½’æ±‚è§£å‰©ä¸‹çš„ n - 1 æ¬¡é€‰æ‹©çš„æœ€å¤§å€¼
    int result1 = 1 + findMax(n - 1);
    // è¿™æ¬¡é€‰æ‹© 100 å…ƒï¼Œç„¶åé€’å½’æ±‚è§£å‰©ä¸‹çš„ n - 1 æ¬¡é€‰æ‹©çš„æœ€å¤§å€¼
    int result2 = 100 + findMax(n - 1);

    // è¿”å›ä¸¤ç§é€‰æ‹©ä¸­çš„æœ€å¤§å€¼
    return Math.max(result1, result2);
}

// ä¼˜åŒ–ä¸€ã€æ²¡å¿…è¦å¯¹ä¸¤ç§é€‰æ‹©è¿›è¡Œæ¯”è¾ƒäº†
int findMax(int n) {
    if (n == 0) return 0;
    int result = 100 + findMax(n - 1);
    return result;
}

// ä¼˜åŒ–äºŒã€é€’å½’æ”¹ä¸ºè¿­ä»£
int findMax(int n) {
    int result = 0;
    for (int i = 0; i < n; i++) {
        result += 100;
    }
    return result;
}

// ä¼˜åŒ–ä¸‰ã€ç›´æ¥è®¡ç®—ç»“æœå°±è¡Œäº†
int findMax(int n) {
    return 100 * n;
}

ã€Œé—®é¢˜äºŒã€
ç°åœ¨æœ‰ä¸¤ç§é’ç¥¨ï¼Œé¢é¢åˆ†åˆ«ä¸º 1 å…ƒå’Œ 100 å…ƒï¼Œæ¯ç§é’ç¥¨çš„æ•°é‡æ— é™ã€‚
ç°åœ¨ç»™ä½ ä¸€ä¸ªç›®æ ‡é‡‘é¢ amountï¼Œè¯·é—®ä½ æœ€å°‘éœ€è¦å¤šå°‘å¼ é’ç¥¨æ‰èƒ½å‡‘å‡ºè¿™ä¸ªé‡‘é¢ï¼Ÿ
"""


"""
è´ªå¿ƒé€‰æ‹©æ€§è´¨å°±æ˜¯è¯´èƒ½å¤Ÿé€šè¿‡å±€éƒ¨æœ€ä¼˜è§£ç›´æ¥æ¨å¯¼å‡ºå…¨å±€æœ€ä¼˜è§£ã€‚

å¯¹äºé—®é¢˜ä¸€ï¼Œå±€éƒ¨æœ€ä¼˜è§£å°±æ˜¯æ¯æ¬¡éƒ½é€‰æ‹© 100 å…ƒï¼Œå› ä¸º 100 > 1ï¼›
å¯¹äºé—®é¢˜äºŒï¼Œå±€éƒ¨æœ€ä¼˜è§£ä¹Ÿæ˜¯æ¯æ¬¡éƒ½é€‰æ‹© 100 å…ƒï¼Œå› ä¸ºæ¯å¼ é¢é¢å°½å¯èƒ½å¤§ï¼Œæ‰€éœ€çš„é’ç¥¨æ•°é‡å°±èƒ½å°½å¯èƒ½å°‘ã€‚

é—®é¢˜ä¸€ä¸­æ¯ä¸€æ¬¡é€‰æ‹©çš„å±€éƒ¨æœ€ä¼˜è§£ç»„åˆèµ·æ¥å°±æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œ
é—®é¢˜äºŒä¸­ä¸æ˜¯ã€‚è™½ç„¶æ¯æ¬¡é€‰æ‹© 100 å…ƒæ˜¯å±€éƒ¨æœ€ä¼˜è§£ï¼Œä½†æƒ³å‡‘å‡º 3 å…ƒï¼Œåªèƒ½é€‰æ‹© 3 å¼  1 å…ƒï¼Œå±€éƒ¨æœ€ä¼˜è§£ä¸ä¸€å®šèƒ½æ„æˆå…¨å±€æœ€ä¼˜è§£ã€‚
é—®é¢˜äºŒçš„åœºæ™¯ï¼Œä¸ç¬¦åˆè´ªå¿ƒé€‰æ‹©æ€§è´¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨è´ªå¿ƒç®—æ³•ï¼Œåªèƒ½ç©·ä¸¾æ‰€æœ‰å¯è¡Œè§£ï¼Œæ‰èƒ½è®¡ç®—å‡ºæœ€ä¼˜è§£ã€‚
"""



# 5. è·³è·ƒæ¸¸æˆ | åŠ›æ‰£ | LeetCode |  ğŸŸ 
# è¾“å…¥ï¼šnums = [2,3,1,1,4]
# è¾“å‡ºï¼štrue
# è§£é‡Šï¼šå¯ä»¥å…ˆè·³ 1 æ­¥ï¼Œä»ä¸‹æ ‡ 0 åˆ°è¾¾ä¸‹æ ‡ 1, ç„¶åå†ä»ä¸‹æ ‡ 1 è·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä¸‹æ ‡ã€‚
"""
æœ´ç´ æ€æƒ³ï¼š
    å‡è®¾ N ä¸º nums çš„é•¿åº¦ï¼Œè¿™é“é¢˜ç›¸å½“äºåš N æ¬¡é€‰æ‹©ï¼Œæ¯æ¬¡é€‰æ‹©æœ‰ nums[i] ç§é€‰é¡¹ï¼Œ
    æƒ³è¦ç©·ä¸¾æ‰€æœ‰çš„è·³è·ƒè·¯å¾„ï¼Œå°±æ˜¯ä¸€æ£µé«˜åº¦ä¸º N çš„å¤šå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ ã€è‡³å¤šã€‘nums[i] ä¸ªå­èŠ‚ç‚¹ï¼š

è´ªå¿ƒæ€æƒ³ï¼š
    ç«™åœ¨ nums[i] = 3 çš„ä½ç½®ï¼Œä½ å¯ä»¥è·³åˆ° i+1, i+2, i+3 ä¸‰ä¸ªä½ç½®ï¼Œæ­¤æ—¶ä½ çœŸçš„éœ€è¦åˆ†åˆ«è·³è¿‡å»ï¼Œç„¶åé€’å½’æ±‚è§£å­é—®é¢˜ dp(i+1), dp(i+2), dp(i+3)ï¼Œæœ€åé€šè¿‡å­é—®é¢˜çš„ç­”æ¡ˆæ¥å†³å®š dp(i) çš„ç»“æœå—ï¼Ÿ
    å…¶å®ä¸ç”¨çš„ï¼Œi+1, i+2, i+3 ä¸‰ä¸ªå€™é€‰é¡¹ï¼Œå®ƒä»¬è°èƒ½èµ°å¾—æœ€è¿œï¼Œä½ å°±é€‰è°ï¼Œå‡†æ²¡é”™ã€‚
    å…·ä½“æ¥è¯´ï¼Œi+1 èƒ½èµ°åˆ°çš„æœ€è¿œè·ç¦»æ˜¯ i+1+nums[i+1]ï¼Œi+2 èƒ½èµ°åˆ°çš„æœ€è¿œè·ç¦»æ˜¯ i+2+nums[i+2]ï¼Œi+3 èƒ½èµ°åˆ°çš„æœ€è¿œè·ç¦»æ˜¯ i+3+nums[i+3]ï¼Œä½ çœ‹çœ‹è°æœ€å¤§ï¼Œå°±é€‰è°ã€‚
"""

class Solution:
    def canJump(self, nums: List[int]) -> bool:
        n = len(nums)
        farthest = 0
        for i in range(n - 1):
            # ä¸æ–­è®¡ç®—èƒ½è·³åˆ°çš„æœ€è¿œè·ç¦»
            farthest = max(farthest, i + nums[i])
            # ä¸å¯èƒ½è·³åˆ°å½“å‰ä½ç½®
            if farthest <= i:
                return False
        return farthest >= n - 1
    


# 45. è·³è·ƒæ¸¸æˆ II | åŠ›æ‰£ | LeetCode |  ğŸŸ 
# è¾“å…¥: nums = [2,3,1,1,4]
# è¾“å‡º: 2
# è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚
#      ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³ 1 æ­¥ï¼Œç„¶åè·³ 3 æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚

"""
æœ´ç´ æ€æƒ³ï¼š
    åŠ¨æ€å›å½’æš´åŠ›ç©·ä¸¾

å¤–å±‚ï¼šä½ç½® i ä» 0 åˆ° n-1ï¼Œæœ€å¤šæ‰§è¡Œ n æ¬¡è°ƒç”¨
å†…å±‚ï¼šä» i ä½ç½®æœ€å¤šè·³ nums[i] æ­¥

æœ€åæƒ…å†µæ˜¯ï¼šæ¯ä¸ªä½ç½®éƒ½èƒ½è·³åˆ°åé¢æ‰€æœ‰ä½ç½®ï¼Œæ¯”å¦‚ nums = [n, n, n, ..., n]
é‚£ä¹ˆä»ä½ç½® iï¼Œä½ å¯èƒ½å¯¹ i+1, i+2, ..., n-1 å…¨éƒ¨é€’å½’è°ƒç”¨ï¼ˆå¦‚æœè¿˜æ²¡è¢«è®°å¿†åŒ–ï¼‰

å³ï¼š
æ€»çš„è°ƒç”¨æ¬¡æ•°â‰¤âˆ‘i=0,nâˆ’1 (nâˆ’i) = n(n+1)/2=O(n^2)
"""
class Solution:
    def jump(self, nums: List[int]) -> int:
        n = len(nums)
        # å› ä¸ºä» 0 è·³åˆ° n - 1 æœ€å¤š n - 1 æ­¥ï¼Œæ‰€ä»¥è®¾ç½®ä¸ºnï¼Œç›¸å½“äºinf
        memo = [n] * n
        return self.dp(nums, 0, memo)
    # å®šä¹‰ï¼šä»ç´¢å¼• p è·³åˆ°æœ€åä¸€æ ¼ï¼Œè‡³å°‘éœ€è¦ dp(nums, p) æ­¥
    def dp(self, nums, p: int, memo):
        n = len(nums)
        # base case
        if p >= n - 1:
            return 0
        if memo[p] != n:
            return memo[p]
        
        # ä½ å¯ä»¥é€‰æ‹©è·³ 1 æ­¥ï¼Œ2 æ­¥...
        for i in range(1, nums[p] + 1):
            subProblem = self.dp(nums, p + i, memo)
            memo[p] = min(memo[p], subProblem + 1)
        return memo[p]


"""
ä¸éœ€è¦çœŸçš„é€’å½’ç©·ä¸¾å‡ºæ‰€æœ‰é€‰æ‹©çš„å…·ä½“ç»“æœæ¥æ¯”è¾ƒæ±‚æœ€å€¼ï¼Œè€Œåªéœ€è¦æ¯æ¬¡é€‰æ‹©é‚£ä¸ªæœ€æœ‰æ½œåŠ›çš„å±€éƒ¨æœ€ä¼˜è§£ï¼Œæœ€ç»ˆå°±èƒ½å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚

æ€æƒ³ï¼šæŒ‰â€œå±‚â€å¾€å‰æ¨è¿›ï¼ˆBFS çš„æ•°ç»„ç‰ˆï¼‰
    æŠŠæ¯ä¸ªä¸‹æ ‡ i çœ‹æˆä¸€ä¸ªèŠ‚ç‚¹ï¼›ä» i èƒ½è·³åˆ°çš„æ‰€æœ‰ j âˆˆ [i+1, i+nums[i]] æ˜¯è¾¹ã€‚
    æˆ‘ä»¬è¦åˆ°è¾¾æœ«å°¾ï¼Œç”¨ æœ€å°‘è·³æ•°ã€‚BFS çš„æ€§è´¨ï¼šç¬¬ä¸€æ¬¡åˆ°è¾¾æŸç‚¹ä¸€å®šæ˜¯æœ€å°‘æ­¥æ•°çš„é‚£ä¸€å±‚ã€‚
    æˆ‘ä»¬ä¸å»ºå›¾ä¸æ’é˜Ÿï¼Œç”¨ä¸¤ä¸ªè¾¹ç•Œæ¥â€œæ¨¡æ‹Ÿâ€å±‚ï¼š
    endï¼šå½“å‰è¿™ä¸€è·³ï¼ˆå½“å‰å±‚ï¼‰èƒ½è¦†ç›–åˆ°çš„æœ€å³ç«¯ã€‚
    farthestï¼šåœ¨æ‰«æå½“å‰å±‚çš„æ‰€æœ‰ç‚¹åï¼Œ**ä¸‹ä¸€è·³ï¼ˆä¸‹ä¸€å±‚ï¼‰**èƒ½è¦†ç›–åˆ°çš„æœ€å³ç«¯ã€‚
    å½“æˆ‘ä»¬æŠŠå½“å‰å±‚çš„ç‚¹éƒ½æ‰«å®Œäº†ï¼ˆi == endï¼‰ï¼Œè¯´æ˜å¿…é¡» è·³ä¸€æ¬¡ æ‰èƒ½ç»§ç»­å¾€å‰ï¼Œè¿™æ—¶æŠŠ end æ›´æ–°æˆåˆšæ‰ç»Ÿè®¡åˆ°çš„ farthestï¼Œå±‚æ•°ï¼ˆjumpsï¼‰+1ã€‚

ğŸ§  ä¸ºä»€ä¹ˆä¸ä¼šæ¼æ‰â€œä¸‹ä¸‹æ­¥â€çš„æƒ…å†µï¼Ÿ

ä¸¾ä¾‹ï¼š[2, 5, 3, 1, 1, 1, 1]

ç¬¬ 1 å±‚ï¼ˆèµ·ç‚¹ 0ï¼‰èƒ½åˆ° [1,2]ï¼Œæ‰€ä»¥ end=2ï¼Œjumps=1ã€‚

æ‰«æå±‚ [1,2]ï¼š

ä» 1 å¯ä»¥åˆ° [2,3,4,5,6]ï¼Œæ‰€ä»¥ farthest=6ã€‚

ä» 2 å¯ä»¥åˆ° [3,4,5]ï¼Œä¹Ÿåœ¨é‡Œé¢ã€‚

æ‰€ä»¥æ•´ä¸ªç¬¬ 2 å±‚è¦†ç›–åˆ°äº† 6ï¼ˆç»ˆç‚¹ï¼‰ï¼Œjumps=2ã€‚

ğŸ‘‰ æ³¨æ„ï¼šè™½ç„¶ç®—æ³•â€œæ²¡æœ‰æ˜ç¡®é€‰æ‹© 0â†’1â†’6â€ï¼Œä½†å®ƒåœ¨ æ‰«ææ•´å±‚ æ—¶å·²ç»æŠŠ 1 çš„æ‰©å±•è€ƒè™‘è¿›æ¥äº†ã€‚ç­‰æ‰«æåˆ° i==end==2ï¼Œå®ƒæ›´æ–° end=6ï¼Œæ„å‘³ç€ï¼šä¸‹ä¸€è·³ç›´æ¥èƒ½åˆ°ç»ˆç‚¹ã€‚
è¿™ç­‰ä»·äº BFS å·²ç»æ‰¾åˆ°äº†ä» 0 å‡ºå‘çš„ 2 æ­¥è·¯å¾„ã€‚

æ‰€ä»¥ ä¸‹ä¸‹æ­¥ã€ä¸‹ä¸‹ä¸‹æ­¥çš„å¯èƒ½æ€§ï¼Œéƒ½ä¼šåœ¨ç›¸åº”çš„å±‚æ‰«ææ—¶ä½“ç°å‡ºæ¥ï¼Œä¸ä¼šæ¼ã€‚
"""

"""
BFS

å±‚0ï¼ˆèµ·ç‚¹ï¼‰:
  [0]
   èƒ½åˆ° â†’ {1, 2}

å±‚1:
  [1, 2]
   1 èƒ½åˆ° â†’ {2,3,4,5,6}
   2 èƒ½åˆ° â†’ {3,4,5}
   åˆå¹¶å»é‡ â†’ {2,3,4,5,6}

  âœ¨ ç¬¬ä¸€æ¬¡è¦†ç›–åˆ° 6 â†’ æœ€å°‘è·³æ•° = 2


"""
def jump(nums):
    n = len(nums)
    end = 0          # å½“å‰å±‚çš„å³è¾¹ç•Œ
    farthest = 0     # ä¸‹ä¸€å±‚çš„æœ€è¿œå³è¾¹ç•Œ
    jumps = 0        # å·²ç”¨çš„è·³æ•°ï¼ˆå±‚æ•°ï¼‰

    # åªéå†åˆ° n-2ï¼šå› ä¸ºåªè¦èƒ½â€œè¦†ç›–â€æœ€åä¸€ä¸ªä¸‹æ ‡å°±è¡Œï¼Œä¸éœ€è¦ä»æœ€åä¸€ä¸ªå†å¾€åæ‰©å±•
    for i in range(n - 1):
        # åœ¨å½“å‰å±‚é‡Œï¼Œçœ‹çœ‹å“ªä¸ªç‚¹èƒ½æŠŠä¸‹ä¸€å±‚æ¨å¾—æœ€è¿œ
        farthest = max(farthest, i + nums[i])

        # ä¸€æ—¦æ‰«æåˆ°å½“å‰å±‚çš„è¾¹ç•Œï¼Œå¿…é¡»â€œè½åœ°â€è·³ä¸€ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€å±‚
        if i == end:
            jumps += 1
            end = farthest
            # ï¼ˆå¯é€‰æ—©åœï¼‰å¦‚æœä¸‹ä¸€å±‚å·²ç»è¦†ç›–åˆ°æˆ–è¶…è¿‡æœ«å°¾ï¼Œå¯ä»¥æå‰ç»“æŸ
            if end >= n - 1:
                jumps
    return -1
