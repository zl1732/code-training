"""
æ±‚è§£åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒé—®é¢˜æ˜¯ç©·ä¸¾
åŠ¨æ€è§„åˆ’é—®é¢˜çš„ä¸€èˆ¬å½¢å¼å°±æ˜¯æ±‚æœ€å€¼
    æ¯”å¦‚è¯´è®©ä½ æ±‚æœ€é•¿é€’å¢å­åºåˆ—å‘€ï¼Œæœ€å°ç¼–è¾‘è·ç¦»ã€‚


é‡å å­é—®é¢˜ã€æœ€ä¼˜å­ç»“æ„ã€çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯åŠ¨æ€è§„åˆ’ä¸‰è¦ç´ :
    1. åªæœ‰åˆ—å‡ºæ­£ç¡®çš„ã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€ï¼Œæ‰èƒ½æ­£ç¡®åœ°ç©·ä¸¾ã€‚
    2. éœ€è¦åˆ¤æ–­ç®—æ³•é—®é¢˜æ˜¯å¦å…·å¤‡ã€Œæœ€ä¼˜å­ç»“æ„ã€
    3. åŠ¨æ€è§„åˆ’é—®é¢˜å­˜åœ¨ã€Œé‡å å­é—®é¢˜ã€ï¼Œéœ€è¦ä½ ä½¿ç”¨ã€Œå¤‡å¿˜å½•ã€æˆ–è€…ã€ŒDP tableã€æ¥ä¼˜åŒ–ç©·ä¸¾è¿‡ç¨‹

æ€ç»´æ¡†æ¶ï¼Œè¾…åŠ©ä½ æ€è€ƒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
    æ˜ç¡®ã€ŒçŠ¶æ€ã€-> æ˜ç¡®ã€Œé€‰æ‹©ã€ -> å®šä¹‰ dp æ•°ç»„/å‡½æ•°çš„å«ä¹‰ã€‚
"""

"""
ğŸ§  ä¸€ã€åŠ¨æ€è§„åˆ’çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ
    æŠŠé—®é¢˜æ‹†æˆå­é—®é¢˜ï¼›
    ç”¨ã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€æè¿°å­é—®é¢˜ä¹‹é—´çš„å…³ç³»ï¼›
    åˆ©ç”¨ã€Œå¤‡å¿˜å½•æˆ–DPè¡¨ã€æ¥ç¼“å­˜å·²ç»ç®—è¿‡çš„å­é—®é¢˜ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚

| åç§°       | æ„æ€                    | é€šä¿—è§£é‡Š                                                             |
| --------   | ----------------      | ---------------------------------------------------------------- |
| âœ… çŠ¶æ€     | æè¿°å½“å‰å­é—®é¢˜çš„å‚æ•°      | æ¯”å¦‚â€œèƒŒåŒ…è¿˜æœ‰å¤šå¤§ç©ºé—´ã€ä½ èµ°åˆ°äº†ç¬¬å‡ ä¸ªç‰©å“â€                                           |
| âœ… é€‰æ‹©     | å½“å‰å¯ä»¥åšçš„å†³ç­–         | æ¯”å¦‚â€œè£…è¿˜æ˜¯ä¸è£…è¿™ä¸ªç‰©å“â€ï¼Œâ€œå¾€å³è¿˜æ˜¯å¾€ä¸‹èµ°â€                                          |
| âœ… çŠ¶æ€è½¬ç§»æ–¹ç¨‹| ç”¨å­é—®é¢˜çš„è§£æ¥æ¨åŸé—®é¢˜çš„è§£çš„å…¬å¼ | æ¯”å¦‚ `dp[i][w] = max(dp[i-1][w], dp[i-1][w-weight[i]] + value[i])` |

"""


"""
ğŸ”¥ğŸ”¥ğŸ”¥ ã€Šé€’å½’ã€‹  ã€Šè¿­ä»£ã€‹
ç¬¬ä¸€ç§æ˜¯å¸¦å¤‡å¿˜å½•çš„é€’å½’è§£æ³•ï¼Œæˆ–ç§°ä¸ºã€Œè‡ªé¡¶å‘ä¸‹ã€çš„è§£æ³•ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢å±•ç¤ºçš„ï¼Œä¸€ä¸ªé€’å½’å‡½æ•°å¸¦ä¸€ä¸ª memo å¤‡å¿˜å½•ã€‚

ç¬¬äºŒç§æ˜¯ DP table çš„è¿­ä»£è§£æ³•ï¼Œæˆ–ç§°ä¸ºã€Œè‡ªåº•å‘ä¸Šã€çš„è§£æ³•ï¼Œä¹Ÿå°±æ˜¯ä½ è¯´çš„ï¼Œç”¨ for å¾ªç¯å»è¿­ä»£ dp æ•°ç»„è¿›è¡Œæ±‚è§£ã€‚

è¿™ä¸¤è€…çš„æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥äº’ç›¸è½¬åŒ–ã€‚è¿­ä»£è§£æ³•ä¸­çš„é‚£ä¸ª dp æ•°ç»„ï¼Œå°±æ˜¯é€’å½’è§£æ³•ä¸­çš„ memo æ•°ç»„ã€‚

"""


"æ¡†æ¶1"
# è‡ªé¡¶å‘ä¸‹é€’å½’çš„åŠ¨æ€è§„åˆ’
def dp(çŠ¶æ€1, çŠ¶æ€2, ...):
    if çŠ¶æ€å·²ç»è®¡ç®—è¿‡:
        return è®°å¿†å€¼
    for é€‰æ‹© in æ‰€æœ‰é€‰æ‹©:
        # æ ¹æ®é€‰æ‹©æ›´æ–°çŠ¶æ€
        result = æ±‚æœ€å€¼(result, dp(æ–°çŠ¶æ€1, æ–°çŠ¶æ€2, ...))
    ä¿å­˜ç»“æœ
    return result


"""
1. ã€Šé€’å½’ã€‹è§£æ³•ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰
æ³¨æ„ä»–è¿™ä¸ªå†™æ³•ï¼Œä¾ç„¶ç±»ä¼¼ç”¨ä¸€ä¸ªtraverse+å…¨å±€å˜é‡
ç”±äºæœ¬ç®—æ³•ä¸å­˜åœ¨å†—ä½™è®¡ç®—ï¼Œå­é—®é¢˜ä¸ªæ•°ä¸º O(n)
"""
def fib(n: int) -> int:
    # å¤‡å¿˜å½•å…¨åˆå§‹åŒ–ä¸º -1
    # å› ä¸ºæ–æ³¢é‚£å¥‘æ•°è‚¯å®šæ˜¯éè´Ÿæ•´æ•°ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸ºç‰¹æ®Šå€¼ -1 è¡¨ç¤ºæœªè®¡ç®—

    # å› ä¸ºæ•°ç»„çš„ç´¢å¼•ä» 0 å¼€å§‹ï¼Œæ‰€ä»¥éœ€è¦ n + 1 ä¸ªç©ºé—´
    # è¿™æ ·æ‰èƒ½æŠŠ `f(0) ~ f(n)` éƒ½è®°å½•åˆ° memo ä¸­
    memo = [-1] * (n + 1)

    return self.dp(memo, n)

# å¸¦ç€å¤‡å¿˜å½•è¿›è¡Œé€’å½’
def dp(memo: list, n: int) -> int:
    # base case
    if n == 0 or n == 1:
        return n
    # å·²ç»è®¡ç®—è¿‡ï¼Œä¸ç”¨å†è®¡ç®—äº†
    if memo[n] != -1:
        return memo[n]
    # åœ¨è¿”å›ç»“æœä¹‹å‰ï¼Œå­˜å…¥å¤‡å¿˜å½•
    memo[n] = self.dp(memo, n - 1) + self.dp(memo, n - 2)
    return memo[n]


"æ¡†æ¶2"
# è‡ªåº•å‘ä¸Šè¿­ä»£çš„åŠ¨æ€è§„åˆ’
# åˆå§‹åŒ– base case
dp[åˆå§‹çŠ¶æ€] = åˆå§‹å€¼
# é€æ­¥å¡«è¡¨
for çŠ¶æ€1 in çŠ¶æ€1æ‰€æœ‰å–å€¼:
    for çŠ¶æ€2 in çŠ¶æ€2æ‰€æœ‰å–å€¼:
        for æ¯ä¸ªé€‰æ‹©:
            dp[å½“å‰çŠ¶æ€] = æ±‚æœ€å€¼(ç”±ä¸Šä¸€ä¸ªçŠ¶æ€+é€‰æ‹©å¾—åˆ°çš„å€¼)


"""
2. ã€Šè¿­ä»£ã€‹è§£æ³•ï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰
"""
def fib(n: int) -> int:
    if n == 0 or n == 1:
        return n
    # dp table
    dp = [0] * (n + 1)
    # base case
    dp[0] = 0
    dp[1] = 1
    # çŠ¶æ€è½¬ç§»
    for i in range(2, n + 1):
        dp[i] = dp[i - 1] + dp[i - 2]

    return dp[n]


"""
| æŠ½è±¡æ¡†æ¶                   | å®é™…å†™æ³•                        |
| --------------------      | --------------------------- |
| `dp[0] = base case`       | `dp[0] = 0`                 |
| `dp[1] = base case`       | `dp[1] = 1`                 |
| `for çŠ¶æ€ in çŠ¶æ€çš„æ‰€æœ‰å–å€¼:`| `for i in range(2, n+1):`   |
| `dp[i] = æ±‚æœ€å€¼(...)`      | `dp[i] = dp[i-1] + dp[i-2]` |

"""

# ä½ æœ‰ n ä¸ªç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º W çš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“æœ‰é‡é‡ w[i] å’Œä»·å€¼ v[i]ã€‚æ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ï¼Œæ±‚æœ€å¤§ä»·å€¼ã€‚
n = len(weight)
W = èƒŒåŒ…å®¹é‡
dp = [[0] * (W + 1) for _ in range(n + 1)]

for i in range(1, n + 1):
    for w in range(0, W + 1):
        if weight[i - 1] > w:
            dp[i][w] = dp[i - 1][w]  # è£…ä¸ä¸‹ï¼Œä¸èƒ½é€‰
        else:
            dp[i][w] = max(dp[i - 1][w], dp[i - 1][w - weight[i - 1]] + value[i - 1])

"""
| æŠ½è±¡ä¼ªä»£ç éƒ¨åˆ†                   | å®é™…ä»£ç ä¸­çš„å†…å®¹                                |
| ---------------------------    | --------------------------------------- |
| `dp[0][0][...] = base case`    | `dp[0][...] = 0` è¡¨ç¤ºä»€ä¹ˆéƒ½ä¸é€‰ï¼Œä»·å€¼ä¸º 0          |
| `for çŠ¶æ€1 in çŠ¶æ€1çš„æ‰€æœ‰å–å€¼:`   | `for i in range(1, n+1):`  â€”â€” çŠ¶æ€1æ˜¯ç‰©å“æ•°   |
| `for çŠ¶æ€2 in çŠ¶æ€2çš„æ‰€æœ‰å–å€¼:`   | `for w in range(0, W+1):` â€”â€” çŠ¶æ€2æ˜¯å½“å‰èƒŒåŒ…å®¹é‡ |
| `dp[...] = æ±‚æœ€å€¼(...)`         | `dp[i][w] = max(...)` â€”â€” é€‰ or ä¸é€‰        |

"""





"""
è¿™é‡Œå¼•å‡ºäº†â€œçŠ¶æ€è½¬ç§»æ–¹ç¨‹â€è¿™ä¸ªåè¯ï¼Œå®é™…ä¸Šå°±æ˜¯æè¿°é—®é¢˜ç»“æ„çš„æ•°å­¦å½¢å¼ã€‚
çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š

    f(n) = {
              0               , n = 0
              1               , n = 1
              f(n-1) + f(n-2) , n > 1
           }
è¿™ä¸ªæ–¹ç¨‹è¡¨ç¤ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰æ–¹å¼ï¼Œå…¶ä¸­æ¯ä¸€é¡¹çš„å€¼ç”±å‰ä¸¤é¡¹ç›¸åŠ å¾—åˆ°ã€‚


ç»†å¿ƒçš„è¯»è€…ä¼šå‘ç°ï¼Œæ ¹æ®æ–æ³¢é‚£å¥‘æ•°åˆ—çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå½“å‰çŠ¶æ€ n åªå’Œä¹‹å‰çš„ n-1, n-2 ä¸¤ä¸ªçŠ¶æ€æœ‰å…³ï¼Œ
å…¶å®å¹¶ä¸éœ€è¦é‚£ä¹ˆé•¿çš„ä¸€ä¸ª DP table æ¥å­˜å‚¨æ‰€æœ‰çš„çŠ¶æ€ï¼Œåªè¦æƒ³åŠæ³•å­˜å‚¨ä¹‹å‰çš„ä¸¤ä¸ªçŠ¶æ€å°±è¡Œäº†ã€‚
æ‰€ä»¥ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ŒæŠŠç©ºé—´å¤æ‚åº¦é™ä¸º O(1)

è¿™ä¸€èˆ¬æ˜¯åŠ¨æ€è§„åˆ’é—®é¢˜çš„æœ€åä¸€æ­¥ä¼˜åŒ–ï¼Œå¦‚æœæˆ‘ä»¬å‘ç°æ¯æ¬¡çŠ¶æ€è½¬ç§»åªéœ€è¦ DP table ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œ
é‚£ä¹ˆå¯ä»¥å°è¯•ç¼©å° DP table çš„å¤§å°ï¼Œåªè®°å½•å¿…è¦çš„æ•°æ®ï¼Œä»è€Œé™ä½ç©ºé—´å¤æ‚åº¦ã€‚
"""
def fib(n: int) -> int:
    if n == 0 or n == 1:
        # base case
        return n
    # åˆ†åˆ«ä»£è¡¨ dp[i - 1] å’Œ dp[i - 2]
    dp_i_1, dp_i_2 = 1, 0
    for i in range(2, n + 1):
        # dp[i] = dp[i - 1] + dp[i - 2];
        dp_i = dp_i_1 + dp_i_2
        # æ»šåŠ¨æ›´æ–°
        dp_i_2 = dp_i_1
        dp_i_1 = dp_i
    return dp_i_1



"""
åŠ›æ‰£ç¬¬ 322 é¢˜ã€Œé›¶é’±å…‘æ¢ã€ï¼š

    ç»™ä½  k ç§é¢å€¼çš„ç¡¬å¸ï¼Œé¢å€¼åˆ†åˆ«ä¸º c1, c2 ... ckï¼Œæ¯ç§ç¡¬å¸çš„æ•°é‡æ— é™ï¼Œå†ç»™ä¸€ä¸ªæ€»é‡‘é¢ amountï¼Œé—®ä½ æœ€å°‘éœ€è¦å‡ æšç¡¬å¸å‡‘å‡ºè¿™ä¸ªé‡‘é¢

1ã€ç¡®å®šã€ŒçŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡ã€‚
    ç”±äºç¡¬å¸æ•°é‡æ— é™ï¼Œç¡¬å¸çš„é¢é¢ä¹Ÿæ˜¯é¢˜ç›®ç»™å®šçš„ï¼Œåªæœ‰ç›®æ ‡é‡‘é¢ä¼šä¸æ–­åœ°å‘ base case é è¿‘ï¼Œ
    æ‰€ä»¥å”¯ä¸€çš„ã€ŒçŠ¶æ€ã€å°±æ˜¯ç›®æ ‡é‡‘é¢ amountã€‚
2ã€ç¡®å®šã€Œé€‰æ‹©ã€ï¼Œä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸ºã€‚
    ç›®æ ‡é‡‘é¢ä¸ºä»€ä¹ˆå˜åŒ–å‘¢ï¼Œå› ä¸ºä½ åœ¨é€‰æ‹©ç¡¬å¸ï¼Œä½ æ¯é€‰æ‹©ä¸€æšç¡¬å¸ï¼Œå°±ç›¸å½“äºå‡å°‘äº†ç›®æ ‡é‡‘é¢ã€‚
    æ‰€ä»¥è¯´æ‰€æœ‰ç¡¬å¸çš„é¢å€¼ï¼Œå°±æ˜¯ä½ çš„ã€Œé€‰æ‹©ã€ã€‚
3ã€æ˜ç¡® dp å‡½æ•°/æ•°ç»„çš„å®šä¹‰ã€‚
    æˆ‘ä»¬è¿™é‡Œè®²çš„æ˜¯è‡ªé¡¶å‘ä¸‹çš„è§£æ³•ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ä¸ªé€’å½’çš„ dp å‡½æ•°ï¼Œ
    ä¸€èˆ¬æ¥è¯´å‡½æ•°çš„å‚æ•°å°±æ˜¯çŠ¶æ€è½¬ç§»ä¸­ä¼šå˜åŒ–çš„é‡ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´åˆ°çš„ã€ŒçŠ¶æ€ã€ï¼›
    å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯é¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—çš„é‡ã€‚
    å°±æœ¬é¢˜æ¥è¯´ï¼ŒçŠ¶æ€åªæœ‰ä¸€ä¸ªï¼Œå³ã€Œç›®æ ‡é‡‘é¢ã€ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬è®¡ç®—å‡‘å‡ºç›®æ ‡é‡‘é¢æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚

"""

# ä¼ªç æ¡†æ¶
def coinChange(coins: List[int], amount: int) -> int:
    # é¢˜ç›®è¦æ±‚çš„æœ€ç»ˆç»“æœæ˜¯ dp(amount)
    return dp(coins, amount)

# å®šä¹‰ï¼šè¦å‡‘å‡ºé‡‘é¢ nï¼Œè‡³å°‘è¦ dp(coins, n) ä¸ªç¡¬å¸
def dp(coins: List[int], n: int) -> int:
    # åšé€‰æ‹©ï¼Œé€‰æ‹©éœ€è¦ç¡¬å¸æœ€å°‘çš„é‚£ä¸ªç»“æœ
    # åˆå§‹åŒ–resä¸ºæ­£æ— ç©·
    res = float('inf')
    for coin in coins:
        res = min(res, sub_problem + 1)
    return res


class Solution:
    def coinChange(self, coins: List[int], amount: int) -> int:
        # é¢˜ç›®è¦æ±‚çš„æœ€ç»ˆç»“æœæ˜¯ dp(amount)
        return self.dp(coins, amount)

    # å®šä¹‰ï¼šè¦å‡‘å‡ºç›®æ ‡é‡‘é¢ amountï¼Œè‡³å°‘è¦ dp(coins, amount) ä¸ªç¡¬å¸
    def dp(self, coins, amount):
        # base case
        if amount == 0: 
            return 0
        if amount < 0: 
            return -1

        res = float('inf')
        for coin in coins:
            # è®¡ç®—å­é—®é¢˜çš„ç»“æœ
            subProblem = self.dp(coins, amount - coin)
            # å­é—®é¢˜æ— è§£åˆ™è·³è¿‡
            if subProblem == -1: 
                continue
            # åœ¨å­é—®é¢˜ä¸­é€‰æ‹©æœ€ä¼˜è§£ï¼Œç„¶ååŠ ä¸€
            res = min(res, subProblem + 1)

        return res if res != float('inf') else -1

"""
çŠ¶æ€å®šä¹‰ï¼š
dp(n) è¡¨ç¤ºå‡‘å‡ºé‡‘é¢ n æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
- å¦‚æœ n == 0ï¼Œè¯´æ˜ä¸éœ€è¦ä»»ä½•ç¡¬å¸ï¼Œdp(n) = 0
- å¦‚æœ n < 0ï¼Œè¯´æ˜æ— è§£ï¼Œdp(n) = -1
- å¦‚æœ n > 0ï¼š
    dp(n) = min{ dp(n - coin) + 1 | coin âˆˆ coins ä¸” dp(n - coin) != -1 }
    å³ä»æ‰€æœ‰èƒ½å‡‘å‡º n - coin çš„å­é—®é¢˜ä¸­ï¼Œé€‰å‡ºæœ€ä¼˜çš„ä¸€ä¸ªï¼Œå†åŠ ä¸Šå½“å‰ç¡¬å¸ coinã€‚
"""


class Solution:
    def __init__(self):
        self.memo = []
    
    def coinChange(self, coins: List[int], amount: int) -> int:
        self.memo = [-666] * (amount + 1)
        # å¤‡å¿˜å½•åˆå§‹åŒ–ä¸ºä¸€ä¸ªä¸ä¼šè¢«å–åˆ°çš„ç‰¹æ®Šå€¼ï¼Œä»£è¡¨è¿˜æœªè¢«è®¡ç®—
        return self.dp(coins, amount)
    
    def dp(self, coins, amount):
        if amount == 0: return 0
        if amount < 0: return -1
        # æŸ¥å¤‡å¿˜å½•ï¼Œé˜²æ­¢é‡å¤è®¡ç®—
        if self.memo[amount] != -666:
            return self.memo[amount]

        res = float('inf')
        for coin in coins:
            # è®¡ç®—å­é—®é¢˜çš„ç»“æœ
            subProblem = self.dp(coins, amount - coin) 
            # å­é—®é¢˜æ— è§£åˆ™è·³è¿‡
            if subProblem == -1: continue
            # åœ¨å­é—®é¢˜ä¸­é€‰æ‹©æœ€ä¼˜è§£ï¼Œç„¶ååŠ ä¸€
            res = min(res, subProblem + 1)
        # æŠŠè®¡ç®—ç»“æœå­˜å…¥å¤‡å¿˜å½•
        self.memo[amount] = res if res != float('inf') else -1
        return self.memo[amount]